<div align="center">

# <strong>üåê Legisense ‚Äì AI‚ÄëPowered Legal Companion</strong>

[![Flutter](https://img.shields.io/badge/Flutter-3.22%2B-02569B?logo=flutter&logoColor=white)](https://flutter.dev)
[![Django](https://img.shields.io/badge/Django-4.x-092E20?logo=django&logoColor=white)](https://www.djangoproject.com/)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10%2B-3776AB?logo=python&logoColor=white)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-informational)](#license)

</div>

---

## üö® Problem
- **Low legal literacy in India**: 70%+ struggle with legal jargon across everyday contracts (rentals, loans, insurance, ToS).
- **Hidden risks**: Users unknowingly accept auto‚Äërenewals, penalties, and unfair clauses leading to disputes and losses.
- **Access gap**: SMEs, freelancers, tenants often can‚Äôt afford lawyers; billions lost annually to fraud/unfair terms.
- **Existing tools misaligned**: Solutions like Spellbook, DoNotPay, LawGeex, LegalZoom target lawyers/Western markets, not Indian citizens.

---

## üåü Vision
Build a trustworthy AI co‚Äëpilot that makes legal documents:
- **Understandable**: Simplifies contracts into plain language.
- **Actionable**: Simulates what‚Äëif outcomes and obligations.
- **Protective**: Flags hidden risks and unfair terms.
- **Empathetic**: Guides users with clarity, stress detection, and multilingual support.

---

## üí° Solution ‚Äî Legisense
An AI‚Äëpowered Legal Empathy & Simulation Companion that:
- **Simplifies** contracts into accessible language.
- **Analyzes** clauses, flags risks, and explains ‚Äúwhy it matters‚Äù.
- **Simulates** real‚Äëworld outcomes (e.g., ‚ÄúMiss 2 EMIs ‚Üí Default in 90 days ‚Üí Foreclosure in 6 months‚Äù).
- **Adapts** to local laws (e.g., Karnataka vs Maharashtra eviction rules).
- **Supports** empathetically, detecting stress/confusion and adapting tone.
- **Guides action** with checklists, negotiation drafts, and links to NGOs/legal aid.

---

## üì± App Structure (Pages)

### üîπ Basic Pages
- **Home Page**: Quick insights, recent documents, alerts, and central ‚ÄúUpload Document‚Äù button.
- **Documents Page**: List of uploads ‚Üí open in Display (abstract text view) or Analysis (risk & summaries).
- **Profile Page**: History, saved simulations, preferences (readability level, languages, privacy).
- **Simulation Page (Entry)**: Hub to run what‚Äëif contract simulations.

### üîπ Document Analyzer
- **Document Display Page**: Extracted text + original scans with highlighting and search.
- **Document Analysis Page**: Clause explanations, red‚Äëflag alerts, risk scoring, checklists, and Q&A with citations.

### üîπ Document Simulation
- **Simulation Overview Page**: Topic grid (obligations, penalties, exits, comparative, jurisdiction, forecasts) + what‚Äëif toggles.
- **Simulation Details Page**: Interactive flowchart + timeline of obligations and outcomes.
- **Enhanced Simulation Page**: Rich scenario inputs, jurisdiction filters, narrative outcomes, contextual risk alerts, export/save.

---

## ‚öôÔ∏è Technical Flow (5 Layers)

### üìä Processing Pipeline Flowchart
```mermaid
graph TD
    A[üìÑ Document Upload] --> B[‚òÅÔ∏è Cloud Storage]
    B --> C[üì¢ Pub/Sub Trigger]
    C --> D[üîç Document AI Processing]
    D --> E[üõ°Ô∏è Cloud DLP Redaction]
    E --> F[üß† Vertex AI Embeddings]
    F --> G[üîç Matching Engine Index]
    G --> H[üíæ Firestore Storage]
    H --> I[ü§ñ Gemini Analysis]
    I --> J[üìä Risk Scoring]
    J --> K[üéØ Simulation Generation]
    K --> L[üì± Flutter App Display]
    
    M[üë§ Firebase Auth] --> L
    N[üìà BigQuery Analytics] --> O[üìä Looker Dashboards]
    H --> N
    I --> N
```

### üèóÔ∏è Google Cloud Architecture Diagram
```mermaid
graph TB
    subgraph "üåê Frontend Layer"
        FA[üì± Flutter App]
        FB[üåê Web Interface]
    end
    
    subgraph "üîê Authentication & Security"
        AUTH[üîë Firebase Auth]
        IAM[üë§ IAM Roles]
        VPC[üõ°Ô∏è VPC-SC]
        CMEK[üîê CMEK]
    end
    
    subgraph "üì° API Gateway"
        EP[üåê Cloud Endpoints]
        RUN[‚òÅÔ∏è Cloud Run]
    end
    
    subgraph "üìÑ Document Processing"
        GCS[üíæ Cloud Storage]
        PUB[üì¢ Pub/Sub]
        DOCAI[üîç Document AI]
        DLP[üõ°Ô∏è Cloud DLP]
    end
    
    subgraph "üß† AI & Knowledge"
        VERTEX[ü§ñ Vertex AI]
        GEMINI[üí¨ Gemini 1.5 Pro/Flash]
        EMBED[üßÆ Embeddings API]
        MATCH[üîç Matching Engine]
        FUNC[‚öôÔ∏è Function Calling]
    end
    
    subgraph "üíæ Data Storage"
        FIRESTORE[üî• Firestore]
        BIGQUERY[üìä BigQuery]
    end
    
    subgraph "üìä Monitoring & Analytics"
        LOOKER[üìà Looker Studio]
        LOGS[üìù Cloud Logging]
    end
    
    FA --> AUTH
    FB --> AUTH
    AUTH --> EP
    EP --> RUN
    RUN --> GCS
    RUN --> PUB
    PUB --> DOCAI
    DOCAI --> DLP
    DLP --> VERTEX
    VERTEX --> GEMINI
    VERTEX --> EMBED
    EMBED --> MATCH
    MATCH --> FIRESTORE
    GEMINI --> FUNC
    FUNC --> BIGQUERY
    FIRESTORE --> LOOKER
    BIGQUERY --> LOOKER
    RUN --> LOGS
    
    IAM -.-> RUN
    VPC -.-> GCS
    CMEK -.-> FIRESTORE
```

### üîÑ Layer-by-Layer Breakdown
- **Ingestion**: Upload ‚Üí Cloud Storage ‚Üí Pub/Sub trigger ‚Üí metadata extraction
- **Preprocessing**: Document AI (OCR/parsing) ‚Üí Cloud DLP (PII redaction) ‚Üí clean text ‚Üí clause detection
- **Analysis**: Vertex AI Embeddings ‚Üí Matching Engine ‚Üí Gemini 1.5 Pro/Flash ‚Üí summaries, risks, Q&A
- **Application Logic**: Function Calling ‚Üí Clause Explorer, Red‚ÄëFlag Reports, What‚ÄëIf Simulation, Checklists
- **User Layer**: Firebase Auth ‚Üí Flutter app ‚Üí Home, Documents, Analyzer, Simulation, Profile

### üèóÔ∏è Architecture Notes
- **Current OSS stack (this repo)**: Flutter app (`legisense/`) + Django API (`legisense_backend/`)
- **Production cloud architecture**: Google Cloud (Cloud Run, Firestore, Document AI, Vertex AI) for scale‚Äëout
- **Serverless design**: Auto-scaling, pay-per-use, event-driven processing

---

## ‚òÅÔ∏è Google Cloud Tools & Services

### üìÑ 1. Document Ingestion & Processing

| Service | Purpose | Key Features |
|---------|---------|--------------|
| **Google Cloud Storage (GCS)** | Store uploaded PDFs, DOCX, images | ‚Ä¢ Multi-regional storage<br>‚Ä¢ Lifecycle management<br>‚Ä¢ Signed URLs for secure access |
| **Cloud Run** | API layer for upload, preprocessing, analysis orchestration | ‚Ä¢ Serverless containers<br>‚Ä¢ Auto-scaling (0-1000 instances)<br>‚Ä¢ Pay-per-request pricing |
| **Cloud Pub/Sub** | Event-driven pipeline trigger | ‚Ä¢ Asynchronous processing<br>‚Ä¢ Guaranteed delivery<br>‚Ä¢ Dead letter queues |

### üîç 2. Document Parsing & Cleaning

| Service | Purpose | Key Features |
|---------|---------|--------------|
| **Document AI (DocAI)** | OCR, Contract Parser, Form Extractor | ‚Ä¢ Contract-specific parsing<br>‚Ä¢ Entity extraction (dates, amounts, parties)<br>‚Ä¢ Form field detection |
| **Cloud DLP** | Detect & redact sensitive data | ‚Ä¢ PII detection (Aadhaar, PAN, names)<br>‚Ä¢ Custom data types<br>‚Ä¢ De-identification templates |

### üß† 3. Knowledge & Retrieval

| Service | Purpose | Key Features |
|---------|---------|--------------|
| **Vertex AI Embeddings** | Convert document clauses into semantic vectors | ‚Ä¢ Text embedding models<br>‚Ä¢ Multi-language support<br>‚Ä¢ Batch processing |
| **Vertex AI Matching Engine** | ANN-based search for clause retrieval | ‚Ä¢ Vector similarity search<br>‚Ä¢ Real-time indexing<br>‚Ä¢ Filtering capabilities |
| **BigQuery** | Store structured legal data for analytics | ‚Ä¢ SQL-based queries<br>‚Ä¢ Real-time analytics<br>‚Ä¢ ML integration |
| **Firestore** | Store user metadata, doc metadata, analysis results | ‚Ä¢ NoSQL document store<br>‚Ä¢ Real-time updates<br>‚Ä¢ Offline support |

### ü§ñ 4. Reasoning & Generative AI

| Service | Purpose | Key Features |
|---------|---------|--------------|
| **Vertex AI Gemini 1.5 Pro** | Deep analysis, risk scoring, simulation generation | ‚Ä¢ 1M+ token context<br>‚Ä¢ Multimodal capabilities<br>‚Ä¢ Function calling |
| **Vertex AI Gemini 1.5 Flash** | Quick summaries, real-time Q&A, UX responsiveness | ‚Ä¢ Fast inference<br>‚Ä¢ Cost-effective<br>‚Ä¢ Streaming responses |
| **Vertex AI Function Calling** | Tools for legal analysis functions | ‚Ä¢ `extract_clauses()`<br>‚Ä¢ `score_risk()`<br>‚Ä¢ `simulate_outcomes()`<br>‚Ä¢ `generate_checklist()` |

### üîê 5. Application & Security

| Service | Purpose | Key Features |
|---------|---------|--------------|
| **Firebase Auth / Identity Platform** | Secure login (email, phone, OAuth) | ‚Ä¢ Multi-factor authentication<br>‚Ä¢ Social logins<br>‚Ä¢ Custom claims |
| **Cloud Endpoints / API Gateway** | Manage API requests securely | ‚Ä¢ Rate limiting<br>‚Ä¢ API key management<br>‚Ä¢ Request/response logging |
| **VPC-SC (Service Controls)** | Network-level isolation of sensitive data | ‚Ä¢ Data perimeter security<br>‚Ä¢ Service-to-service controls<br>‚Ä¢ Compliance boundaries |
| **CMEK (Customer-Managed Encryption Keys)** | User-controlled encryption | ‚Ä¢ Key rotation<br>‚Ä¢ Audit logging<br>‚Ä¢ Compliance support |
| **IAM (Identity & Access Management)** | Least privilege access for roles | ‚Ä¢ Role-based access control<br>‚Ä¢ Service accounts<br>‚Ä¢ Resource-level permissions |

### üìä 6. Monitoring & Analytics

| Service | Purpose | Key Features |
|---------|---------|--------------|
| **Looker Studio + BigQuery** | Dashboards for evaluation, performance monitoring | ‚Ä¢ Real-time dashboards<br>‚Ä¢ Custom metrics<br>‚Ä¢ Export capabilities |
| **Cloud Logging** | Centralized logging and monitoring | ‚Ä¢ Structured logging<br>‚Ä¢ Log-based metrics<br>‚Ä¢ Error reporting |

### üí∞ Cost Optimization Strategy

| Layer | Service | Cost Model | Optimization |
|-------|---------|------------|--------------|
| **Storage** | Cloud Storage | $0.020/GB/month | Lifecycle policies, compression |
| **Processing** | Cloud Run | $0.40/vCPU-hour | Auto-scaling, cold starts |
| **AI/ML** | Vertex AI | $0.50/1M tokens | Caching, batch processing |
| **Database** | Firestore | $0.18/100K reads | Query optimization, indexing |
| **Analytics** | BigQuery | $5/TB processed | Partitioning, clustering |

### üîÑ Data Flow Architecture

```mermaid
sequenceDiagram
    participant U as üë§ User
    participant F as üì± Flutter App
    participant A as üîê Firebase Auth
    participant R as ‚òÅÔ∏è Cloud Run
    participant S as üíæ Cloud Storage
    participant P as üì¢ Pub/Sub
    participant D as üîç Document AI
    participant L as üõ°Ô∏è Cloud DLP
    participant V as ü§ñ Vertex AI
    participant E as üîç Matching Engine
    participant FS as üî• Firestore
    participant BQ as üìä BigQuery
    participant LS as üìà Looker Studio

    U->>F: Upload Document
    F->>A: Authenticate User
    A-->>F: Auth Token
    F->>R: POST /api/parse-pdf
    R->>S: Store Document
    R->>P: Publish Upload Event
    P->>D: Trigger Processing
    D->>D: OCR & Parse Contract
    D->>L: Extract & Redact PII
    L-->>D: Cleaned Text
    D->>V: Generate Embeddings
    V->>E: Index Vectors
    E->>FS: Store Metadata
    V->>V: Gemini Analysis
    V->>FS: Store Analysis Results
    V->>BQ: Store Analytics Data
    R-->>F: Analysis Complete
    F->>U: Display Results
    BQ->>LS: Generate Dashboards
```

### üèóÔ∏è Service Integration Map

```mermaid
mindmap
  root((Legisense<br/>Google Cloud))
    Document Processing
      Cloud Storage
        Multi-regional
        Lifecycle Management
        Signed URLs
      Document AI
        Contract Parser
        OCR Engine
        Form Extractor
      Cloud DLP
        PII Detection
        Data Redaction
        Custom Types
    AI & Knowledge
      Vertex AI
        Gemini 1.5 Pro
        Gemini 1.5 Flash
        Embeddings API
        Function Calling
      Matching Engine
        Vector Search
        Real-time Indexing
        Similarity Matching
    Data Storage
      Firestore
        User Data
        Document Metadata
        Analysis Results
      BigQuery
        Legal Analytics
        Performance Metrics
        Compliance Reports
    Security & Auth
      Firebase Auth
        Multi-factor Auth
        Social Logins
        Custom Claims
      IAM
        Role-based Access
        Service Accounts
        Resource Permissions
      VPC-SC
        Data Perimeter
        Service Controls
        Compliance
    Monitoring
      Looker Studio
        Real-time Dashboards
        Custom Metrics
        Export Reports
      Cloud Logging
        Structured Logs
        Error Tracking
        Performance Monitoring
```

---

## üîë Features
- **Plain‚ÄëLanguage Summaries**: 3 levels ‚Äî basic, standard, detailed.
- **Clause Explorer**: Risks, why‚Äëit‚Äëmatters, suggested actions.
- **Red‚ÄëFlag Report**: Sorted by severity.
- **Contract‚Äëto‚ÄëLife Simulation**: Obligations ‚Üí breaches ‚Üí consequences.
- **Jurisdiction‚ÄëAware Guidance**: State‚Äëlevel rules.
- **Empathetic Support**: Stress detection, adaptive tone, resources.
- **Actionable Guidance**: Checklists, draft letters, connect to aid.
- **Multilingual**: English ‚Üî Hindi/Marathi.
- **Privacy Controls**: Ephemeral mode, local redaction.

---

## üöÄ Why Unique (Differentiation)

| Existing Tools (Spellbook, LawGeex, DoNotPay, LegalZoom) | Legisense |
| --- | --- |
| Lawyer‚Äëfocused, Western markets | Citizen‚Äëfirst, India‚Äëfirst |
| Reactive: Summarization & review | Proactive: Simulation & empathy |
| Expensive ($15‚Äì20/doc avg) | Affordable (~$3‚Äì4/doc) |
| English‚Äëheavy, complex UI | Multilingual, mobile‚Äëfirst, simple |
| No emotional support | Empathetic + stress‚Äëaware guidance |

---

## üìä Feasibility, Scalability, Viability
- **Feasibility**: Serverless GCP reference (Cloud Run, Firestore, Document AI, Vertex AI); MVP in 6‚Äì8 weeks.
- **Scalability**: Serverless infra auto‚Äëscales; cost grows with usage.
- **Viability**: Freemium (free summary + red flags; paid simulations). Low processing cost (~$0.30‚Äì0.50/doc).
- **Market Opportunity**: India ‚Üí 500M+ smartphone users; 70% low legal literacy.
- **Sustainability**: Efficient infra, caching, reuse, green defaults.

---

## üìà Impact
- **Prevents fraud & unfair penalties** ‚Üí saves billions annually.
- **Reduces legal burden** for SMEs, freelancers, tenants.
- **Increases access to justice** for citizens without lawyers.
- **Empowers with foresight** via simulations of obligations.
- **Improves legal literacy** through plain explanations and scenarios.

---

## üí∞ Implementation Cost (Lean MVP)
- **Storage + Hosting**: 20%
- **Document AI Parsing**: 25%
- **AI Analysis**: 30%
- **Database (Firestore/BigQuery)**: 10%
- **Security + Compliance**: 10%
- **Misc (APIs, logs)**: 5%

‚û°Ô∏è Estimated cost per doc: **$3‚Äì4** vs **$15‚Äì20** for enterprise tools.

---

## üîó Quick Links
- **Frontend (Flutter)**: `legisense/`
- **Backend (Django)**: `legisense_backend/`
- **Design Prototypes**: `prototype_design/`

---

## üöÄ Getting Started

### Prerequisites
- Docker Desktop (Windows/Mac) or Docker Engine (Linux)
- Git

### Quick Start with Docker (Recommended)

#### 1. Clone and Setup
```bash
git clone <your-repository-url>
cd legisense
cp env.example .env
```

#### 2. Start Development Environment
```bash
# On Windows
scripts\docker-dev.bat start

# On Linux/Mac
./scripts/docker-dev.sh start
```

#### 3. Access Your Application
- **Frontend**: http://localhost:8080
- **Backend API**: http://localhost:8000/api/
- **Admin Panel**: http://localhost:8000/admin/

#### 4. Create Admin User
```bash
# On Windows
scripts\docker-dev.bat superuser

# On Linux/Mac
./scripts/docker-dev.sh superuser
```

### Production Deployment
```bash
# Configure environment
nano .env  # Set DEBUG=false, secure SECRET_KEY, and API keys

# Start production
scripts\docker-prod.bat start  # Windows
./scripts/docker-prod.sh start  # Linux/Mac
```

### Manual Setup (Alternative)

#### Prerequisites
- Flutter 3.22+ (Dart 3)
- Python 3.10+

#### 1) Backend (Django)
```bash
cd legisense_backend
python -m venv venv
# Windows
venv\Scripts\activate
# macOS/Linux
# source venv/bin/activate

pip install -r requirements.txt
python manage.py migrate
python manage.py runserver 0.0.0.0:8000
```
Backend runs at `http://localhost:8000` (Android emulator uses `http://10.0.2.2:8000`).

#### 2) Frontend (Flutter)
```bash
cd legisense
flutter pub get
flutter run
```

Web/Desktop example:
```bash
flutter run --dart-define=LEGISENSE_API_BASE=http://localhost:8000
```

---

## üê≥ Docker Architecture (Development)

The application is fully containerized with the following services for local development:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Flutter Web   ‚îÇ    ‚îÇ  Django Backend ‚îÇ    ‚îÇ   PostgreSQL    ‚îÇ
‚îÇ   (Frontend)    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (API Server)  ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Database)    ‚îÇ
‚îÇ   Port: 8080    ‚îÇ    ‚îÇ   Port: 8000    ‚îÇ    ‚îÇ   Port: 5432    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ     Redis       ‚îÇ
                       ‚îÇ   (Cache)       ‚îÇ
                       ‚îÇ   Port: 6379    ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> **Note**: For production deployment, see the [Google Cloud Architecture](#Ô∏è-technical-flow-5-layers) section above, which provides serverless, auto-scaling infrastructure with Document AI, Vertex AI, and other Google Cloud services.

### Docker Services
- **Frontend**: Flutter web app with Nginx
- **Backend**: Django with Gunicorn
- **Database**: PostgreSQL with initialization
- **Cache**: Redis for sessions and caching
- **Proxy**: Nginx for production load balancing

### Management Scripts
- `scripts/docker-dev.bat` (Windows) / `scripts/docker-dev.sh` (Linux/Mac) - Development management
- `scripts/docker-prod.bat` (Windows) / `scripts/docker-prod.sh` (Linux/Mac) - Production management

### Common Docker Commands
```bash
# Development
scripts\docker-dev.bat start      # Start development environment
scripts\docker-dev.bat logs       # View logs
scripts\docker-dev.bat migrate    # Run database migrations
scripts\docker-dev.bat stop       # Stop services
scripts\docker-dev.bat cleanup    # Clean up resources

# Production
scripts\docker-prod.bat start     # Start production environment
scripts\docker-prod.bat monitor   # Monitor services
scripts\docker-prod.bat backup    # Backup database
scripts\docker-prod.bat scale 3 2 # Scale services
```

---

## ‚öôÔ∏è Configuration
Flutter app reads the backend base URL via a compile‚Äëtime define:

| Var | Default | Notes |
| --- | --- | --- |
| `LEGISENSE_API_BASE` | `http://10.0.2.2:8000` | Default for Android emulators. Use `http://localhost:8000` for local web/desktop. |

---

## üß© Key Code Paths
- **App entry & shell**: `legisense/lib/main.dart`
  - `SafeArea` wrapping
  - `IndexedStack` + global bottom nav
- **Nav bar**: `legisense/lib/components/bottom_nav_bar.dart`
- **Documents**:
  - Page: `legisense/lib/pages/documents/documents_page.dart`
  - Analysis (polling fallback): `legisense/lib/pages/documents/document_analysis.dart`
  - Repository (HTTP): `legisense/lib/api/parsed_documents_repository.dart`
- **Simulation**: `legisense/lib/pages/simulation/`
- **Notifications**: `legisense/lib/pages/notifications/notifications_page.dart`
- **Theme helpers**: `legisense/lib/theme/app_theme.dart`
- **Responsive helpers**: `legisense/lib/utils/responsive.dart`

---

## üß™ Backend Endpoints (high level)
- `GET /api/documents/` ‚Äî list documents
- `GET /api/documents/{id}/` ‚Äî document detail
- `GET /api/documents/{id}/analysis/` ‚Äî analysis JSON
- `POST /api/parse-pdf/` ‚Äî upload and parse a PDF

---

## üõ†Ô∏è Development Notes
- Prefer `Color.withValues(alpha: ...)` (replaces deprecated `withOpacity()`).
- Notifications page uses a responsive header and persistent bottom nav.
- Global navigation helper: `navigateToPage(int index)` in `main.dart`.

---

## üñºÔ∏è Screenshots
Add screenshots/GIFs into `assets/` and update paths:

| Home | Documents | Notifications |
| :--: | :-------: | :-----------: |
| ![Home](assets/screenshots/home.png) | ![Docs](assets/screenshots/documents.png) | ![Notifications](assets/screenshots/notifications.png) |

---

## üó∫Ô∏è Roadmap
- [ ] Authentication & user sessions
- [ ] Persistent notifications & settings
- [ ] Real‚Äëtime progress for long parses
- [ ] Role‚Äëbased access and sharing

---

## üì¶ Build

### Docker Build
```bash
# Development build
docker-compose -f docker-compose.dev.yml build

# Production build
docker-compose build
```

### Manual Build
```bash
# Android
flutter build apk

# iOS
flutter build ios

# Web
flutter build web
```

---

## üßØ Troubleshooting

### Docker Issues
- **Port already in use**: Check what's using the port with `netstat -ano | findstr :8080` and kill the process
- **Services not starting**: Check logs with `scripts\docker-dev.bat logs`
- **Database issues**: Reset with `scripts\docker-dev.bat cleanup` then `scripts\docker-dev.bat start`
- **Permission issues**: Ensure Docker has proper permissions and restart Docker Desktop

### General Issues
- **Android networking**: use `http://10.0.2.2:8000` for the emulator.
- **Analysis 404 initially**: UI polls for ~30s, then shows a friendly message.
- **Overlap with status bar**: ensure `SafeArea` wraps page bodies (already applied).

---

## ‚úÖ In Summary

**Legisense** is a citizen‚Äëfirst, India‚Äëfirst legal AI companion that not only explains contracts but also simulates consequences, adapts to local laws, and supports users empathetically ‚Äî bridging a major access‚Äëto‚Äëjustice gap while remaining feasible, scalable, and affordable.

### üèóÔ∏è Architecture Summary

| Layer | Technology Stack | Purpose |
|-------|------------------|---------|
| **Frontend** | Flutter (Cross-platform) | Mobile-first, responsive UI |
| **Backend** | Django + Cloud Run | API orchestration, business logic |
| **Document Processing** | Document AI + Cloud DLP | OCR, parsing, PII redaction |
| **AI/ML** | Vertex AI (Gemini 1.5) | Analysis, simulation, Q&A |
| **Storage** | Firestore + BigQuery | User data, analytics, knowledge base |
| **Security** | Firebase Auth + IAM | Authentication, authorization |
| **Monitoring** | Looker Studio + Cloud Logging | Dashboards, performance tracking |

### üöÄ Key Differentiators

- **üáÆüá≥ India-First**: Built for Indian legal system, languages, and user needs
- **ü§ñ AI-Powered**: Advanced document analysis with Gemini 1.5 Pro/Flash
- **üìä Simulation Engine**: What-if scenarios for contract outcomes
- **üõ°Ô∏è Privacy-Focused**: Local processing options, PII redaction
- **üí∞ Cost-Effective**: ~$3-4 per document vs $15-20 for enterprise tools
- **üì± Mobile-First**: Flutter app for maximum accessibility

---

## üìÑ License
MIT ‚Äî see the `LICENSE` file (if not present, feel free to add one).
